---
# Traefik ServersTransport to handle vault's self-signed certificate
apiVersion: traefik.io/v1alpha1
kind: ServersTransport
metadata:
  name: vault-backend-transport
  namespace: prod-infra
spec:
  # Use the vault CA certificate for backend TLS verification
  rootCAsSecrets:
    - vault-internal-ca-secret
  # Optional: Set other TLS options
  serverName: "vault.prod-infra.svc.cluster.local"
  insecureSkipVerify: false
