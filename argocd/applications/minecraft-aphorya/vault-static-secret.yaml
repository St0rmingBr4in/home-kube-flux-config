---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: minecraft-rcon-secret
  namespace: prod-aphorya
spec:
  # Use the default VaultAuthMethod created by VSO
  vaultAuthRef: default

  # Secret engine configuration
  mount: secret
  type: kv-v2
  path: minecraft-aphorya

  # Destination Kubernetes secret
  destination:
    name: minecraft-rcon-secret
    create: true

  # Refresh the secret every 6 hours
  refreshAfter: 6h
