---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - namespace.yaml
  - ../common/
  - https://github.com/kubernetes/autoscaler//vertical-pod-autoscaler/deploy/?ref=vertical-pod-autoscaler-0.14.0&timeout=90s
  - datadog-secret.yaml
  - datadog-cluster-agent-secret.yaml
  - digitalocean-token.yaml
  - cert-manager-issuer.yaml
  - vault-pvc-0.yaml
  - st0rmingbr4in-com-certificate.yaml
  - aphorya-fr-certificate.yaml
  - basic-auth.yaml
  - basic-auth-middleware.yaml
  - metrics-redirect-middleware.yaml
  - traefik-customchart.yaml
  - traefik.yaml

configMapGenerator:
  - name: traefik-values
    files:
      - values.yaml=traefik-values.yaml
configurations:
  - kustomizeconfig.yaml
namespace: prod-infra
