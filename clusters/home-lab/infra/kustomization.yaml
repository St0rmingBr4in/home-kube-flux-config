---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - namespace.yaml
  - ../common/
  - amd-gpu-device-plugin.yaml
  - datadog-secret.yaml
  - datadog.yaml
  - external-services.yaml
  - kube-prometheus-stack.yaml
  - kube-vip.yaml
  - pihole.yaml
  - vault.yaml
configMapGenerator:
  - name: amd-gpu-device-plugin-values
    files:
      - values.yaml=amd-gpu-device-plugin-values.yaml
  - name: datadog-values
    files:
      - values.yaml=datadog-values.yaml
  - name: external-service-values
    files:
      - values.yaml=external-services-values.yaml
  - name: kube-prometheus-stack-values
    files:
      - values.yaml=kube-prometheus-stack-values.yaml
  - name: vault-values
    files:
      - values.yaml=vault-values.yaml
configurations:
  - kustomizeconfig.yaml
namespace: prod-infra
