---
minecraftServer:
  eula: true
  version: "1.19"
  motd: "Aphorya - preprod"
  pvp: true
  memory: 500M
  ops: "juldoc,RaKk0o"
  whitelist: "juldoc,RaKk0o"
  type: "SPIGOT"
  externalTrafficPolicy: Cluster
  serviceType: LoadBalancer
  loadBalancerIP: 192.168.1.251
  servicePort: 25565
serviceAnnotations:
  metallb.universe.tf/allow-shared-ip: preprod
readinessProbe:
  initialDelaySeconds: 120
  failureThreshold: 100
livenessProbe:
  initialDelaySeconds: 120
  failureThreshold: 100
resources:
  limits:
    cpu: "500m"
    memory: 1G
  requests:
    cpu: "100m"
    memory: 1G
tolerations:
  - key: ram
    operator: Exists
    effect: NoSchedule
persistence:
  dataDir:
    enabled: true
initContainers:
  - name: download-multiverse-core-plugin-updates
    image: appropriate/curl
    args:
      - "-L"
      - "-o"
      - "/data/plugins/update/multiverse-core.jar"
      - "https://dev.bukkit.org/projects/multiverse-core/files/3462546/download"
    volumesMounts:
      - name: plugin-updates
        mountPath: /data/plugins/update
        readOnly: true
  - name: download-nametag-edit-plugin-updates
    image: appropriate/curl
    args:
      - "-L"
      - "-o"
      - "/data/plugins/update/NametagEdit.jar"
      - "https://www.spigotmc.org/resources/nametagedit.3836/download?version=464805"
    volumesMounts:
      - name: plugin-updates
        mountPath: /data/plugins/update
        readOnly: true
extraVolumes:
  - volumeMounts:
      - name: plugin-updates
        mountPath: /data/plugins/update
    volumes:
      - name: plugin-updates
        emptyDir: {}
